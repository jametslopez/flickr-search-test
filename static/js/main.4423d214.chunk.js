(this["webpackJsonpflickr-search-test"]=this["webpackJsonpflickr-search-test"]||[]).push([[0],{17:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a.n(r),c=a(8),s=a.n(c),l=(a(17),a(4)),i=a(0),o=n.a.createContext(),u=function(e,t){switch(t.type){case"search":return{value:t.value};default:return{value:e.value}}};function d(e){var t=e.children,a=Object(r.useReducer)(u,""),n=Object(l.a)(a,2),c=n[0],s=n[1];return Object(i.jsx)(o.Provider,{value:{keyword:c,dispatch:s},children:t})}var j=function(){var e=Object(r.useContext)(o),t=e.keyword,a=e.dispatch;return Object(i.jsxs)("header",{children:[Object(i.jsx)("p",{className:"text-center text-red-500 font-bold my-5",children:"Flickr Search Test"}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("input",{type:"text",className:"px-3 py-2 w-full rounded-lg border border-gray-300 text-sm text-gray-400 placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-200",placeholder:"Please enter a keyword to search",value:t.value,onChange:function(e){a({type:"search",value:e.target.value})}}),Object(i.jsx)("button",{className:"ml-2 p-2 pl-5 pr-5 bg-red-500 text-gray-100 text-sm rounded-lg",children:"Search"})]})]})},h=a(12),x=a(9),b=a(10),f=function(e){return e.show?Object(i.jsxs)("div",{className:"text-red-500 text-sm flex items-center",children:[Object(i.jsx)(x.a,{icon:b.a,className:"fa-spin fa-2x",color:"red"})," ",Object(i.jsx)("span",{className:"ml-2",children:"loading"})]}):""},m=a(7),p=a.n(m),g=a(11),_=function(){var e=Object(g.a)(p.a.mark((function e(t){var a,r,n,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return"2d215fa217113f4accf29356326b1a4f","description,+ license,+ date_upload,+ date_taken,+ owner_name,+ icon_server,+ original_format,+ last_update,+ geo,+ tags,+ machine_tags,+ o_dims,+ views,+ media,+ path_alias,+ url_sq,+ url_t,+ url_s,+ url_q,+ url_m,+ url_n,+ url_z,+ url_c,+ url_l,+ url_o",a="https://api.flickr.com/services/rest?method=flickr.photos.search&api_key=".concat("2d215fa217113f4accf29356326b1a4f","&tags=").concat(encodeURI(t),"&page=1&per_page=15&format=json&nojsoncallback=1&extras=").concat("description,+ license,+ date_upload,+ date_taken,+ owner_name,+ icon_server,+ original_format,+ last_update,+ geo,+ tags,+ machine_tags,+ o_dims,+ views,+ media,+ path_alias,+ url_sq,+ url_t,+ url_s,+ url_q,+ url_m,+ url_n,+ url_z,+ url_c,+ url_l,+ url_o"),e.next=7,fetch(a);case 7:if((r=e.sent).ok){e.next=11;break}throw n="An error has occured: ".concat(r.status),new Error(n);case 11:return e.next=13,r.json();case 13:return c=e.sent,s=c.photos,e.abrupt("return",s.photo.map((function(e){return{title:e.title,author:e.ownername,tags:e.tags.split(" "),imageLarge:e.url_l,imageThumbnail:e.url_q,dateTaken:e.datetaken}})));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=e.title,a=e.author,r=e.tags,n=e.imageLarge,c=e.imageThumbnail,s=e.dateTaken;return Object(i.jsxs)("div",{className:"rounded overflow-hidden shadow-lg",children:[Object(i.jsx)("a",{target:"_blank",rel:"noreferrer ",href:n,children:Object(i.jsx)("img",{class:"w-full",src:c,alt:""})}),Object(i.jsxs)("div",{className:"px-6 py-4",children:[Object(i.jsx)("div",{className:"font-bold text-xl mb-2",children:t}),Object(i.jsxs)("p",{class:"text-gray-700 text-sm",children:["- By ",a]}),Object(i.jsxs)("p",{class:"text-gray-700 text-sm",children:["- ",s]})]}),Object(i.jsx)("div",{className:"px-6 pt-4 pb-2",children:r.map((function(e,t){return Object(i.jsx)("span",{className:"inline-block bg-gray-200 rounded-full px-3 py-1 text-xs font-semibold text-gray-700 mr-2 mb-2",children:e},t)}))})]})},O=(a(25),function(){var e=Object(r.useContext)(o).keyword,t=Object(r.useState)({data:[],loading:0}),a=Object(l.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){c({data:[],loading:1}),_(e.value).then((function(e){c({data:e,loading:0})}))}),[e.value]),Object(i.jsxs)("div",{className:"section-list mt-6",children:[Object(i.jsx)(f,{show:n.loading}),Object(i.jsx)("div",{class:"grid md:grid-cols-3 lg:grid-cols-4 gap-4 bg-white",children:n.data.map((function(e,t){return Object(i.jsx)(v,Object(h.a)({},e),t)}))})]})});a(26);var k=function(){return Object(i.jsx)("div",{className:"sm:container sm:mx-auto mx-4",children:Object(i.jsxs)(d,{children:[Object(i.jsx)(j,{}),Object(i.jsx)(O,{})]})})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,28)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};s.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(k,{})}),document.getElementById("root")),y()}},[[27,1,2]]]);
//# sourceMappingURL=main.4423d214.chunk.js.map